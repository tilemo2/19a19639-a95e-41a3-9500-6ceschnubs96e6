/* ============================================
   BASE STYLES & RESET
   ============================================ */
* {margin: 0;padding: 0;box-sizing: border-box;-webkit-font-smoothing: antialiased;-moz-osx-font-smoothing: grayscale;}
body {-webkit-user-select: none;user-select: none;}
input, textarea, select, button {-webkit-user-select: text;user-select: text;}
:root {--text-primary: #ffffff;--text-secondary: rgba(255, 255, 255, 0.6);--accent-color: #007AFF;--danger-color: #FF3B30;--blur-amount: 40px;--transition: cubic-bezier(0.4, 0, 0.2, 1);}
body {font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, sans-serif;color: var(--text-primary);min-height: 100vh;overflow-x: hidden;overflow-y: auto;position: relative;scroll-behavior: smooth;}
body.font-serif {font-family: "Georgia", "Times New Roman", serif;}
body.font-mono {font-family: "SF Mono", "Menlo", "Courier New", monospace;}
.hidden {display: none !important;}
body.modal-open {overflow: hidden;}

/* THEMES */
body[data-theme="romantic"] {--bg-start: #667eea;--bg-mid: #764ba2;--bg-end: #f093fb;}
body[data-theme="ocean"] {--bg-start: #0575e6;--bg-mid: #00b4db;--bg-end: #0f3443;}
body[data-theme="sunset"] {--bg-start: #ff6e7f;--bg-mid: #f9a825;--bg-end: #ff9966;}
body[data-theme="forest"] {--bg-start: #134e5e;--bg-mid: #71b280;--bg-end: #0a3d3f;}
body[data-theme="midnight"] {--bg-start: #2c3e50;--bg-mid: #3a1c71;--bg-end: #1a1a2e;}
body[data-theme="pastel"] {--bg-start: #ffecd2;--bg-mid: #fcb69f;--bg-end: #ff9a9e;}
.romantic-preview {background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);}
.ocean-preview {background: linear-gradient(135deg, #0575e6, #00b4db);}
.sunset-preview {background: linear-gradient(135deg, #ff6e7f, #f9a825);}
.forest-preview {background: linear-gradient(135deg, #134e5e, #71b280);}
.midnight-preview {background: linear-gradient(135deg, #2c3e50, #3a1c71);}
.pastel-preview {background: linear-gradient(135deg, #ffecd2, #fcb69f, #ff9a9e);}

/* CANVAS */
#background-canvas, #trail-canvas, #confetti-canvas {position: fixed;top: 0;left: 0;width: 100%;height: 100%;z-index: 0;}
#trail-canvas {z-index: 1;pointer-events: none;}
#confetti-canvas {z-index: 1500;pointer-events: none;}

/* LOADING & ERROR */
.loading {position: fixed;inset: 0;display: flex;align-items: center;justify-content: center;background: #000;z-index: 1000;}
.spinner-ios {width: 40px;height: 40px;border: 3px solid rgba(255, 255, 255, 0.2);border-top-color: var(--text-primary);border-radius: 50%;animation: spin 0.8s linear infinite;}
@keyframes spin {to {transform: rotate(360deg);}}
.error {position: fixed;inset: 0;display: flex;align-items: center;justify-content: center;background: #000;z-index: 999;}
.error-content {text-align: center;padding: 40px;}
.error-content svg {margin-bottom: 20px;color: var(--text-secondary);}
.error-content h2 {font-size: 24px;font-weight: 600;margin-bottom: 8px;}
.error-content p {font-size: 16px;color: var(--text-secondary);}

/* MAIN CONTENT & HERO */
#content {position: relative;z-index: 2;}
.hero-section {min-height: 100vh;display: flex;flex-direction: column;align-items: center;justify-content: center;padding: 40px 20px;position: relative;}
.countdown-container {text-align: center;animation: fadeInUp 0.8s var(--transition);}
.event-name {font-size: 32px;font-weight: 600;letter-spacing: -0.8px;margin-bottom: 50px;overflow: hidden;position: relative;}
.main-event-wrapper {cursor: pointer;border: 2px solid transparent;border-radius: 24px;padding: 24px 32px;transition: all 0.3s var(--transition);}
.main-event-wrapper:hover {border-color: rgba(255, 255, 255, 0.3);background: rgba(255, 255, 255, 0.08);box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);}
.main-event-wrapper .event-name {margin-bottom: 30px;}
.scrolling-text {display: inline-block;white-space: nowrap;}
.scrolling-text.scroll {animation: marquee 10s linear infinite;}
@keyframes marquee {0% {transform: translateX(0);}100% {transform: translateX(-50%);}}

/* COUNTDOWN STYLES */
.countdown {display: flex;align-items: center;justify-content: center;gap: 12px;margin-bottom: 30px;}
.countdown-item {display: flex;flex-direction: column;align-items: center;min-width: 80px;}
.countdown-days {min-width: 100px;}
.countdown-item.unit-hidden {display: none;}
.countdown-number {font-size: 72px;font-weight: 600;line-height: 1;letter-spacing: -2px;font-variant-numeric: tabular-nums;}
.countdown-label {font-size: 14px;font-weight: 500;color: var(--text-secondary);margin-top: 10px;text-transform: uppercase;letter-spacing: 0.5px;}
.countdown-separator {font-size: 56px;font-weight: 300;color: var(--text-secondary);margin: 0 -4px;padding-bottom: 24px;}
.countdown-separator.sep-hidden {display: none;}
.event-date {font-size: 16px;color: var(--text-secondary);}

/* SCROLL INDICATOR */
.scroll-indicator {position: absolute;bottom: 40px;left: 50%;transform: translateX(-50%);color: var(--text-secondary);cursor: pointer;transition: opacity 0.4s ease;animation: bounce 2s infinite;}
.scroll-indicator.hidden {opacity: 0;pointer-events: none;}
@keyframes bounce {0%, 20%, 50%, 80%, 100% {transform: translateX(-50%) translateY(0);}40% {transform: translateX(-50%) translateY(-10px);}60% {transform: translateX(-50%) translateY(-5px);}}

/* ANNIVERSARIES SECTION */
.all-anniversaries-section {min-height: 100vh;padding: 60px 20px 80px;display: flex;align-items: center;justify-content: center;}
.anniversaries-container {max-width: 1000px;width: 100%;display: grid;grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));gap: 24px;}

/* STATISTICS SECTION */
.statistics-section {padding: 60px 20px 100px;max-width: 1000px;margin: 0 auto;}
.section-title {font-size: 28px;font-weight: 600;text-align: center;margin-bottom: 40px;letter-spacing: -0.5px;}
.statistics-container {display: grid;grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));gap: 20px;}
.stat-card {border-radius: 20px;padding: 24px;border: 1px solid rgba(255,255,255,0.15);display: flex;align-items: center;gap: 16px;position: relative;box-shadow: 0 4px 20px rgba(0,0,0,0.2);}
.stat-card-wide {grid-column: span 2;flex-direction: column;align-items: stretch;}
.stat-header {display: flex;align-items: center;gap: 12px;margin-bottom: 16px;}
.stat-icon {font-size: 32px;flex-shrink: 0;}
.stat-content {flex: 1;}
.stat-label {font-size: 13px;color: var(--text-secondary);text-transform: uppercase;letter-spacing: 0.5px;margin-bottom: 4px;}
.stat-value {font-size: 28px;font-weight: 600;letter-spacing: -0.5px;}
.stat-sub {font-size: 13px;color: var(--text-secondary);margin-top: 4px;}
.stat-config-btn {position: absolute;top: 12px;right: 12px;background: none;border: none;font-size: 18px;cursor: pointer;opacity: 0.6;transition: opacity 0.2s;}
.stat-config-btn:hover {opacity: 1;}
.month-chart {display: flex;align-items: flex-end;justify-content: space-between;height: 100px;gap: 8px;padding-top: 10px;}
.month-bar {flex: 1;display: flex;flex-direction: column;align-items: center;gap: 8px;}
.month-bar-fill {width: 100%;max-width: 30px;background: linear-gradient(180deg, var(--accent-color), rgba(0,122,255,0.5));border-radius: 4px 4px 0 0;min-height: 4px;transition: height 0.3s ease;}
.month-bar-label {font-size: 10px;color: var(--text-secondary);}
.milestones-container {display: flex;flex-wrap: wrap;gap: 12px;}
.milestone {padding: 10px 16px;background: rgba(0,0,0,0.3);border-radius: 12px;display: flex;align-items: center;gap: 8px;font-size: 14px;}
.milestone.achieved {background: rgba(0,122,255,0.3);border: 1px solid rgba(0,122,255,0.5);}
.milestone-icon {font-size: 16px;}

/* GLASSMORPHISM */
.glass {background: rgba(255, 255, 255, 0.08);backdrop-filter: blur(40px) saturate(180%);-webkit-backdrop-filter: blur(40px) saturate(180%);}
.raised {box-shadow: 0 8px 32px rgba(0,0,0,0.4),0 2px 8px rgba(0,0,0,0.2),inset 0 1px 0 rgba(255,255,255,0.3),inset 0 -1px 0 rgba(0,0,0,0.2);}

/* ANNIVERSARY CARDS */
.anniversary-card {position: relative;background: rgba(255,255,255,0.08);backdrop-filter: blur(40px) saturate(180%);-webkit-backdrop-filter: blur(40px) saturate(180%);border-radius: 24px;padding: 30px 26px;border: 1px solid rgba(255,255,255,0.2);box-shadow: 0 8px 32px rgba(0,0,0,0.4),0 2px 8px rgba(0,0,0,0.2),inset 0 1px 0 rgba(255,255,255,0.3),inset 0 -1px 0 rgba(0,0,0,0.2);transition: all 0.35s cubic-bezier(0.2,0.8,0.2,1);text-align: center;cursor: pointer;animation: fadeInUp 0.6s var(--transition) both;}
.anniversary-card:hover {transform: translateY(-8px);box-shadow: 0 16px 48px rgba(0,0,0,0.5),0 4px 12px rgba(0,0,0,0.3),inset 0 1px 0 rgba(255,255,255,0.4),inset 0 -1px 0 rgba(0,0,0,0.2);}

/* Event name container with marquee for long names */
.anniversary-card .event-name-container {
    width: 100%;
    overflow: hidden;
    margin-bottom: 10px;
}
.anniversary-card .event-name {
    font-size: 24px;
    font-weight: 600;
    letter-spacing: -0.5px;
    margin: 0;
    white-space: nowrap;
}
.anniversary-card .event-name-text {
    display: inline-block;
    white-space: nowrap;
}
.anniversary-card .event-name-text.marquee {
    animation: marqueeScroll 8s linear infinite;
}
.anniversary-card .marquee-spacer {
    padding: 0 30px;
    opacity: 0.5;
}
@keyframes marqueeScroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}

.anniversary-card .countdown {gap: 8px;margin-bottom: 20px;}
.anniversary-card .countdown-item {min-width: 60px;}
.anniversary-card .countdown-days {min-width: 80px;}
.anniversary-card .countdown-number {font-size: 36px;letter-spacing: -1px;}
.anniversary-card .countdown-label {font-size: 11px;margin-top: 6px;}
.anniversary-card .countdown-separator {font-size: 28px;margin: 0 -2px;padding-bottom: 16px;}
.anniversary-card .event-date {font-size: 14px;}

/* ANNIVERSARY NUMBER - Kacheln */
.anniversary-number {
    display: inline-block;
    font-size: 13px;
    font-weight: 500;
    color: var(--accent-color);
    background: rgba(0, 122, 255, 0.15);
    padding: 4px 12px;
    border-radius: 20px;
    margin-bottom: 16px;
    letter-spacing: 0.3px;
}

/* CELEBRATING BADGE */
.celebrating-badge {
    display: inline-block;
    font-size: 14px;
    font-weight: 600;
    color: #fff;
    background: linear-gradient(135deg, #ff6b9d, #ff8fa3, #ffd700);
    background-size: 200% 200%;
    animation: celebrateGradient 2s ease infinite;
    padding: 6px 16px;
    border-radius: 20px;
    margin-bottom: 16px;
    letter-spacing: 0.3px;
    box-shadow: 0 4px 15px rgba(255, 107, 157, 0.4);
}

@keyframes celebrateGradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* CELEBRATING CARD STYLES */
.card-celebrating {
    border-color: rgba(255, 107, 157, 0.5) !important;
    box-shadow: 0 8px 32px rgba(255, 107, 157, 0.3), 0 2px 8px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.3), inset 0 -1px 0 rgba(0,0,0,0.2) !important;
    animation: celebratePulse 2s ease-in-out infinite, fadeInUp 0.6s var(--transition) both !important;
}

.card-celebrating:hover {
    box-shadow: 0 16px 48px rgba(255, 107, 157, 0.4), 0 4px 12px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.4), inset 0 -1px 0 rgba(0,0,0,0.2) !important;
}

@keyframes celebratePulse {
    0%, 100% { 
        border-color: rgba(255, 107, 157, 0.5);
        box-shadow: 0 8px 32px rgba(255, 107, 157, 0.3), 0 2px 8px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.3), inset 0 -1px 0 rgba(0,0,0,0.2);
    }
    50% { 
        border-color: rgba(255, 215, 0, 0.6);
        box-shadow: 0 8px 40px rgba(255, 215, 0, 0.4), 0 2px 8px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.3), inset 0 -1px 0 rgba(0,0,0,0.2);
    }
}

/* NEGATIVE COUNTDOWN (celebrating) */
.countdown-celebrating .countdown-number,
.card-celebrating .countdown-number {
    color: #ff6b9d;
}

.countdown-negative .countdown-number {
    color: #ff6b9d;
}

/* ANNIVERSARY NUMBER - Detailansicht */
.detail-anniversary-number {
    font-size: 14px;
    font-weight: 500;
    color: var(--accent-color);
    background: rgba(0, 122, 255, 0.15);
    padding: 6px 16px;
    border-radius: 20px;
    margin-bottom: 16px;
    display: inline-block;
    letter-spacing: 0.3px;
}

/* ADD CARD */
.add-card {background: rgba(255,255,255,0.05);border: 1px solid rgba(255,255,255,0.15);box-shadow: 0 8px 32px rgba(0,0,0,0.4),0 2px 8px rgba(0,0,0,0.2),inset 0 1px 0 rgba(255,255,255,0.2);}
.add-card:hover {background: rgba(255,255,255,0.08);box-shadow: 0 16px 48px rgba(0,0,0,0.5),0 4px 12px rgba(0,0,0,0.3),inset 0 1px 0 rgba(255,255,255,0.3);}
.add-content {display: flex;flex-direction: column;align-items: center;justify-content: center;padding: 40px 20px;color: var(--text-secondary);}
.add-plus {font-size: 48px;font-weight: 200;line-height: 1;margin-bottom: 12px;opacity: 0.8;}
.add-text {font-size: 14px;opacity: 0.9;}

/* INSET ELEMENTS */
.inset {background: rgba(0,0,0,0.4);border: 1px solid rgba(0,0,0,0.3);box-shadow: inset 0 2px 8px rgba(0,0,0,0.6),inset 0 1px 3px rgba(0,0,0,0.8),0 1px 0 rgba(255,255,255,0.05);}
.editable-field {width: 100%;padding: 14px 18px;border-radius: 14px;color: var(--text-primary);font-size: 16px;text-align: center;transition: all 0.2s;}
.editable-field:focus {outline: none;border-color: rgba(0,122,255,0.5);background: rgba(0,0,0,0.5);box-shadow: inset 0 2px 8px rgba(0,0,0,0.7),inset 0 1px 3px rgba(0,0,0,0.9),0 0 0 3px rgba(0,122,255,0.1);}
.detail-header {display: flex;align-items: flex-start;gap: 12px;margin-bottom: 24px;flex-shrink: 0;}
.detail-header .detail-name-wrapper {flex: 1;}
.detail-header .detail-name {font-size: 24px;font-weight: 600;margin-bottom: 0;text-align: left;padding-right: 10px;}

/* TRAIL EFFECTS */
.heart, .spark {position: fixed;pointer-events: none;z-index: 1500;}
.heart {animation: floatHeart 2.5s ease forwards;}
.spark {width: 4px;height: 4px;border-radius: 50%;animation: floatSpark 1.5s ease forwards;}
@keyframes floatHeart {0% {transform: translateY(0) translateX(0) scale(1) rotate(0deg);opacity: 0.9;}100% {transform: translateY(-120px) translateX(var(--drift)) scale(1.4) rotate(15deg);opacity: 0;}}
@keyframes floatSpark {0% {transform: translateY(0) scale(1);opacity: 1;}100% {transform: translateY(-80px) scale(0);opacity: 0;}}

/* ANIMATIONS */
@keyframes fadeIn {from {opacity: 0;}to {opacity: 1;}}
@keyframes fadeInUp {from {opacity: 0;transform: translateY(20px);}to {opacity: 1;transform: translateY(0);}}
@keyframes scaleIn {from {opacity: 0;transform: scale(0.9);}to {opacity: 1;transform: scale(1);}}
@keyframes dropdownIn {from {opacity: 0;transform: translateY(-10px);}to {opacity: 1;transform: translateY(0);}}

/* DETAIL MODAL */
.detail-modal {position: fixed;inset: 0;background: rgba(0,0,0,0.7);backdrop-filter: blur(20px);-webkit-backdrop-filter: blur(20px);display: flex;align-items: center;justify-content: center;z-index: 3000;animation: fadeIn 0.3s ease;overflow-y: auto;padding: 20px;}
.detail-card {position: relative;width: 90%;max-width: 500px;max-height: 85vh;border-radius: 28px;padding: 32px;border: 1px solid rgba(255,255,255,0.2);box-shadow: 0 20px 60px rgba(0,0,0,0.5),0 8px 32px rgba(0,0,0,0.3),inset 0 1px 0 rgba(255,255,255,0.3),inset 0 -1px 0 rgba(0,0,0,0.2);animation: scaleIn 0.4s var(--transition);display: flex;flex-direction: column;overflow: hidden;}
.detail-scroll-content {flex: 1;overflow-y: auto;overflow-x: hidden;text-align: center;padding-right: 8px;margin-right: -8px;}
.detail-scroll-content::-webkit-scrollbar {width: 6px;}
.detail-scroll-content::-webkit-scrollbar-track {background: rgba(0,0,0,0.2);border-radius: 3px;}
.detail-scroll-content::-webkit-scrollbar-thumb {background: rgba(255,255,255,0.3);border-radius: 3px;}

/* DETAIL MENU - Solid Background */
.detail-menu {position: relative;flex-shrink: 0;}
.menu-dots {width: 40px;height: 40px;border: none;background: rgba(255,255,255,0.1);color: var(--text-primary);font-size: 20px;cursor: pointer;transition: all 0.2s;border-radius: 12px;display: flex;align-items: center;justify-content: center;}
.menu-dots:hover {background: rgba(255,255,255,0.2);}
.detail-dropdown {position: absolute;top: 48px;right: 0;min-width: 200px;border-radius: 14px;border: 1px solid rgba(255,255,255,0.2);overflow: hidden;box-shadow: 0 12px 40px rgba(0,0,0,0.6);animation: dropdownIn 0.2s ease;z-index: 100;background: rgba(30, 30, 40, 0.98);backdrop-filter: blur(40px);-webkit-backdrop-filter: blur(40px);}
.detail-dropdown button {width: 100%;padding: 14px 18px;border: none;background: none;color: var(--text-primary);text-align: left;font-size: 15px;cursor: pointer;transition: background 0.2s;}
.detail-dropdown button:hover {background: rgba(255,255,255,0.1);}
.detail-dropdown button.danger {color: var(--danger-color);}
.dropdown-option {padding: 8px 18px;}
.dropdown-toggle {display: flex;align-items: center;gap: 12px;cursor: pointer;padding: 8px 0;}
.dropdown-toggle input[type="checkbox"] {width: 20px;height: 20px;accent-color: var(--accent-color);cursor: pointer;}
.dropdown-toggle span {font-size: 15px;color: var(--text-primary);}
.dropdown-divider {height: 1px;background: rgba(255,255,255,0.1);margin: 4px 0;}

/* DETAIL COUNTDOWN */
.detail-countdown {margin-bottom: 24px;display: flex;align-items: center;justify-content: center;gap: 8px;}
.detail-countdown .countdown-item {min-width: 60px;}
.detail-countdown .countdown-days {min-width: 75px;}
.detail-countdown .countdown-number {font-size: 42px;letter-spacing: -1px;}
.detail-countdown .countdown-label {font-size: 11px;margin-top: 6px;}
.detail-countdown .countdown-separator {font-size: 32px;margin: 0 2px;padding-bottom: 18px;}

/* DATETIME PICKER */
.datetime-picker {margin-bottom: 24px;}
.date-display {display: inline-flex;align-items: center;gap: 12px;padding: 14px 24px;border-radius: 14px;cursor: pointer;font-size: 16px;transition: all 0.2s;}
.date-display:hover {background: rgba(0,0,0,0.5);}
.time-separator {color: var(--text-secondary);}

/* MEMORIES SECTION */
.memories-section {margin-top: 24px;text-align: left;}
.memories-title {font-size: 16px;font-weight: 600;margin-bottom: 16px;color: var(--text-secondary);text-transform: uppercase;letter-spacing: 0.5px;text-align: center;}
.memories-grid {display: grid;grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));gap: 12px;}
.memory-thumb {aspect-ratio: 1;border-radius: 12px;overflow: hidden;cursor: pointer;position: relative;background: rgba(0,0,0,0.3);border: 1px solid rgba(255,255,255,0.1);transition: all 0.2s;}
.memory-thumb:hover {transform: scale(1.05);border-color: rgba(255,255,255,0.3);}
.memory-thumb img {width: 100%;height: 100%;object-fit: cover;}
.memory-thumb-year {position: absolute;bottom: 0;left: 0;right: 0;padding: 6px;background: linear-gradient(transparent, rgba(0,0,0,0.8));font-size: 12px;font-weight: 600;text-align: center;}
.memory-thumb-empty {display: flex;flex-direction: column;align-items: center;justify-content: center;color: var(--text-secondary);font-size: 12px;gap: 4px;height: 100%;}
.memory-thumb-empty span:first-child {font-size: 24px;}

/* PHOTO VIEWER */
.photo-viewer-modal {position: fixed;inset: 0;background: rgba(0,0,0,0.95);z-index: 4000;display: flex;align-items: center;justify-content: center;animation: fadeIn 0.3s ease;}
.photo-viewer-content {position: relative;width: 100%;max-width: 800px;height: 90vh;display: flex;flex-direction: column;align-items: center;justify-content: center;padding: 20px;}
.photo-main {position: relative;max-width: 100%;max-height: 60vh;display: flex;align-items: center;justify-content: center;}
.photo-main img {max-width: 100%;max-height: 60vh;border-radius: 16px;object-fit: contain;}
.photo-edit-btn {position: absolute;top: 12px;right: 12px;width: 36px;height: 36px;border-radius: 50%;border: none;background: rgba(0,0,0,0.6);color: white;font-size: 16px;cursor: pointer;transition: all 0.2s;}
.photo-edit-btn:hover {background: rgba(0,0,0,0.8);}
.photo-nav {position: absolute;top: 50%;transform: translateY(-50%);width: 50px;height: 50px;border-radius: 50%;border: none;background: rgba(255,255,255,0.1);color: white;font-size: 28px;cursor: pointer;transition: all 0.2s;display: flex;align-items: center;justify-content: center;}
.photo-nav:hover {background: rgba(255,255,255,0.2);}
.photo-nav-left {left: 20px;}
.photo-nav-right {right: 20px;}
.photo-info {margin-top: 20px;text-align: center;width: 100%;max-width: 400px;}
.photo-year {font-size: 24px;font-weight: 600;margin-bottom: 12px;color: var(--accent-color);}
.photo-note {width: 100%;min-height: 60px;max-height: 100px;padding: 12px 16px;border-radius: 12px;color: var(--text-primary);font-size: 14px;font-family: inherit;resize: none;}
.photo-close {position: absolute;top: 20px;right: 20px;width: 44px;height: 44px;border-radius: 50%;border: none;background: rgba(255,255,255,0.1);color: white;font-size: 24px;cursor: pointer;transition: all 0.2s;}
.photo-close:hover {background: rgba(255,255,255,0.2);}

/* DATE PICKER MODAL */
.picker-modal {position: fixed;inset: 0;background: rgba(0,0,0,0.8);backdrop-filter: blur(20px);display: flex;align-items: center;justify-content: center;z-index: 3500;animation: fadeIn 0.2s ease;}
.picker-card {width: 90%;max-width: 360px;border-radius: 24px;border: 1px solid rgba(255,255,255,0.2);overflow: hidden;animation: scaleIn 0.3s var(--transition);background: rgba(30,30,40,0.98);}
.picker-header {padding: 20px 24px;border-bottom: 1px solid rgba(255,255,255,0.1);}
.picker-header h3 {font-size: 20px;font-weight: 600;}
.picker-content {padding: 20px 24px;}
.picker-description {font-size: 14px;color: var(--text-secondary);margin-bottom: 16px;}
.year-selector {display: flex;align-items: center;justify-content: center;gap: 24px;margin-bottom: 20px;}
.year-display {font-size: 24px;font-weight: 600;min-width: 80px;text-align: center;}
.year-nav {width: 40px;height: 40px;border-radius: 50%;border: none;background: rgba(255,255,255,0.1);color: white;font-size: 24px;cursor: pointer;transition: all 0.2s;}
.year-nav:hover {background: rgba(255,255,255,0.2);}
.calendar-container {margin-bottom: 20px;}
.month-nav {display: flex;align-items: center;justify-content: space-between;margin-bottom: 16px;}
.month-nav button {width: 36px;height: 36px;border-radius: 50%;border: none;background: rgba(255,255,255,0.1);color: white;font-size: 20px;cursor: pointer;transition: all 0.2s;}
.month-nav button:hover {background: rgba(255,255,255,0.2);}
.month-nav span {font-size: 16px;font-weight: 500;}
.calendar-weekdays {display: grid;grid-template-columns: repeat(7, 1fr);gap: 4px;margin-bottom: 8px;}
.calendar-weekdays span {text-align: center;font-size: 12px;color: var(--text-secondary);padding: 8px 0;}
.calendar-days {display: grid;grid-template-columns: repeat(7, 1fr);gap: 4px;}
.calendar-day {aspect-ratio: 1;display: flex;align-items: center;justify-content: center;border-radius: 50%;font-size: 14px;cursor: pointer;transition: all 0.2s;border: none;background: none;color: var(--text-primary);}
.calendar-day:hover {background: rgba(255,255,255,0.1);}
.calendar-day.selected {background: var(--accent-color);font-weight: 600;}
.calendar-day.other-month {color: var(--text-secondary);opacity: 0.5;}
.time-selector {display: flex;align-items: center;justify-content: space-between;padding-top: 16px;border-top: 1px solid rgba(255,255,255,0.1);}
.time-selector label {font-size: 14px;color: var(--text-secondary);}
.time-inputs {display: flex;align-items: center;gap: 8px;}
.time-inputs input {width: 50px;padding: 10px;border-radius: 10px;border: 1px solid rgba(255,255,255,0.2);background: rgba(0,0,0,0.3);color: var(--text-primary);font-size: 16px;text-align: center;}
.time-inputs input:focus {outline: none;border-color: var(--accent-color);}
.time-inputs span {font-size: 20px;color: var(--text-secondary);}
.anniversary-select-list {display: flex;flex-direction: column;gap: 8px;max-height: 300px;overflow-y: auto;}
.anniversary-select-item {display: flex;align-items: center;gap: 12px;padding: 14px 16px;border-radius: 12px;background: rgba(0,0,0,0.3);cursor: pointer;transition: all 0.2s;border: 2px solid transparent;}
.anniversary-select-item:hover {background: rgba(0,0,0,0.4);}
.anniversary-select-item.selected {background: rgba(0,122,255,0.2);border-color: var(--accent-color);}
.anniversary-select-item input {display: none;}

/* SETTINGS MODAL */
.settings {position: fixed;inset: 0;background: rgba(0,0,0,0.7);backdrop-filter: blur(20px);display: flex;align-items: center;justify-content: center;z-index: 2000;animation: fadeIn 0.3s ease;overflow-y: auto;padding: 20px;}
.settings-card {width: 100%;max-width: 500px;border-radius: 28px;border: 1px solid rgba(255,255,255,0.2);overflow: hidden;animation: scaleIn 0.3s var(--transition);box-shadow: 0 20px 60px rgba(0,0,0,0.5);max-height: 90vh;display: flex;flex-direction: column;background: rgba(30,30,40,0.95);}
.settings-header {display: flex;align-items: center;justify-content: space-between;padding: 24px 28px;border-bottom: 1px solid rgba(255,255,255,0.1);}
.settings-header h2 {font-size: 24px;font-weight: 600;letter-spacing: -0.5px;}
.settings-body {flex: 1;overflow-y: auto;padding: 24px 28px;}
.setting-section {margin-bottom: 32px;}
.setting-section h3 {font-size: 14px;font-weight: 600;margin-bottom: 16px;color: var(--text-secondary);text-transform: uppercase;letter-spacing: 0.5px;}
.theme-grid {display: grid;grid-template-columns: repeat(3, 1fr);gap: 12px;}
.theme-card {display: flex;flex-direction: column;align-items: center;gap: 8px;padding: 12px;border-radius: 14px;cursor: pointer;transition: all 0.2s;}
.theme-card:hover {background: rgba(0,0,0,0.4);}
.theme-card input[type="radio"] {display: none;}
.theme-card:has(input:checked) {background: rgba(0,122,255,0.2);border-color: rgba(0,122,255,0.4);box-shadow: inset 0 2px 6px rgba(0,122,255,0.3),0 0 0 1px rgba(0,122,255,0.3);}
.theme-preview {width: 60px;height: 40px;border-radius: 8px;border: 2px solid rgba(255,255,255,0.2);}
.theme-card span {font-size: 12px;color: var(--text-secondary);}
.option-grid {display: grid;grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));gap: 12px;}
.option-card {display: flex;align-items: center;justify-content: center;padding: 16px 12px;border-radius: 14px;cursor: pointer;transition: all 0.2s;}
.option-card:hover {background: rgba(0,0,0,0.4);}
.option-card input[type="radio"] {position: absolute;opacity: 0;}
.option-card:has(input:checked) {background: rgba(0,122,255,0.2);border-color: rgba(0,122,255,0.4);box-shadow: inset 0 2px 6px rgba(0,122,255,0.3),0 0 0 1px rgba(0,122,255,0.3);}
.option-card span {font-size: 14px;font-weight: 500;color: var(--text-secondary);transition: color 0.2s;}
.option-card input[type="radio"]:checked + span {color: var(--text-primary);}
.color-grid {display: grid;grid-template-columns: repeat(3, 1fr);gap: 12px;}
.color-option {display: flex;flex-direction: column;align-items: center;gap: 8px;padding: 12px;border-radius: 14px;cursor: pointer;transition: all 0.2s;}
.color-option:hover {background: rgba(0,0,0,0.4);}
.color-option input[type="radio"] {display: none;}
.color-option:has(input:checked) {background: rgba(0,122,255,0.2);border-color: rgba(0,122,255,0.4);box-shadow: inset 0 2px 6px rgba(0,122,255,0.3),0 0 0 1px rgba(0,122,255,0.3);}
.color-preview {width: 40px;height: 40px;border-radius: 50%;border: 2px solid rgba(255,255,255,0.2);box-shadow: 0 2px 8px rgba(0,0,0,0.3);}
.color-option span:last-child {font-size: 12px;color: var(--text-secondary);}
.checkbox-grid {display: grid;grid-template-columns: repeat(2, 1fr);gap: 12px;}
.checkbox-card {display: flex;align-items: center;gap: 10px;padding: 14px 16px;border-radius: 14px;cursor: pointer;transition: all 0.2s;}
.checkbox-card:hover {background: rgba(0,0,0,0.4);}
.checkbox-card:has(input:checked) {background: rgba(0,122,255,0.2);border-color: rgba(0,122,255,0.4);box-shadow: inset 0 2px 6px rgba(0,122,255,0.3),0 0 0 1px rgba(0,122,255,0.3);}
.checkbox-card input[type="checkbox"] {width: 20px;height: 20px;accent-color: var(--accent-color);}
.checkbox-card span {font-size: 14px;font-weight: 500;}
.archived-list {max-height: 200px;overflow-y: auto;}
.empty-state {text-align: center;color: var(--text-secondary);padding: 20px;font-size: 14px;}
.archived-item {padding: 12px 16px;border: 1px solid rgba(255,255,255,0.15);border-radius: 12px;margin-bottom: 8px;display: flex;justify-content: space-between;align-items: center;background: rgba(255,255,255,0.05);}
.archived-item button {padding: 6px 12px;background: var(--accent-color);border: none;border-radius: 8px;color: white;font-size: 12px;cursor: pointer;transition: all 0.2s;}
.archived-item button:hover {background: #0051D5;}

/* CONFIRM MODAL */
.confirm-modal {position: fixed;inset: 0;background: rgba(0,0,0,0.8);backdrop-filter: blur(20px);display: flex;align-items: center;justify-content: center;z-index: 4000;animation: fadeIn 0.2s ease;}
.confirm-card {width: 90%;max-width: 400px;border-radius: 24px;padding: 28px;border: 1px solid rgba(255,255,255,0.2);animation: scaleIn 0.3s var(--transition);background: rgba(30,30,40,0.98);backdrop-filter: blur(40px);}
.confirm-card h3 {font-size: 22px;margin-bottom: 12px;}
.confirm-card p {color: var(--text-secondary);margin-bottom: 20px;font-size: 15px;}
.confirm-input {width: 100%;padding: 14px 16px;border-radius: 12px;color: var(--text-primary);font-size: 16px;margin-bottom: 20px;}
.confirm-input:focus {outline: none;border-color: rgba(0,122,255,0.5);}
.confirm-actions {display: flex;gap: 12px;}

/* BUTTONS */
.btn-done {width: calc(100% - 48px);margin: 0 24px 24px;padding: 16px;border: none;background: var(--accent-color);color: white;border-radius: 14px;font-size: 17px;font-weight: 600;cursor: pointer;transition: all 0.2s;box-shadow: 0 4px 16px rgba(0,122,255,0.4);}
.btn-done:hover {background: #0051D5;transform: translateY(-2px);}
.btn-done:active {transform: translateY(0);}
.btn-cancel, .btn-delete {flex: 1;padding: 14px;border: none;border-radius: 12px;font-size: 16px;font-weight: 600;cursor: pointer;transition: all 0.2s;}
.btn-cancel {background: rgba(255,255,255,0.1);color: var(--text-primary);}
.btn-cancel:hover {background: rgba(255,255,255,0.15);}
.btn-delete {background: var(--danger-color);color: white;}
.btn-delete:hover {background: #d32f2f;}

/* TIME SLOT MACHINE */
.time-slot-machine {display: flex;align-items: center;justify-content: center;gap: 8px;}
.time-slot {display: flex;flex-direction: column;align-items: center;gap: 4px;}
.slot-btn {width: 50px;height: 32px;border: none;background: rgba(255,255,255,0.1);color: var(--text-primary);font-size: 14px;cursor: pointer;border-radius: 8px;transition: all 0.2s;}
.slot-btn:hover {background: rgba(255,255,255,0.2);}
.slot-btn:active {background: rgba(255,255,255,0.3);transform: scale(0.95);}
.slot-value {font-size: 32px;font-weight: 600;min-width: 60px;text-align: center;padding: 8px 0;background: rgba(0,0,0,0.3);border-radius: 12px;}
.slot-separator {font-size: 32px;font-weight: 300;color: var(--text-secondary);padding: 0 4px;}

/* RELATIONSHIP STAT CARD */
.stat-relationship {flex-direction: row;justify-content: space-between;padding: 32px;}
.stat-relationship-content {text-align: left;}
.stat-value-large {font-size: 42px;font-weight: 700;letter-spacing: -1px;margin: 8px 0;}

/* THIS MONTH LIST */
.this-month-list {display: flex;flex-direction: column;gap: 8px;margin-top: 8px;}
.this-month-item {padding: 10px 14px;background: rgba(0,0,0,0.2);border-radius: 10px;font-size: 14px;}

/* RESPONSIVE */
@media (max-width: 768px) {
    .event-name {font-size: 24px;}
    .countdown-number {font-size: 48px;}
    .anniversaries-container {grid-template-columns: 1fr;}
    .stat-card-wide {grid-column: span 1;}
    .option-grid {grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));}
    .color-grid {grid-template-columns: repeat(2, 1fr);}
    .theme-grid {grid-template-columns: repeat(2, 1fr);}
    .detail-countdown .countdown-number {font-size: 36px;}
    .detail-countdown .countdown-separator {font-size: 28px;padding-bottom: 14px;}
    .main-event-wrapper {padding: 16px 20px;}
    .photo-nav-left {left: 10px;}
    .photo-nav-right {right: 10px;}
}
@media (max-width: 480px) {
    .countdown-number {font-size: 36px;}
    .detail-header .detail-name {font-size: 20px;}
    .countdown-days {min-width: 80px;}
    .detail-countdown .countdown-number {font-size: 32px;}
    .detail-countdown .countdown-item {min-width: 50px;}
    .detail-countdown .countdown-days {min-width: 65px;}
}
